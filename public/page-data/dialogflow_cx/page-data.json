{"componentChunkName":"component---src-templates-blog-post-js","path":"/dialogflow_cx/","result":{"data":{"markdownRemark":{"id":"8dcbdffe-e367-585f-a334-522d10f07edb","excerpt":"Пример интеграции Dialogflow CX с 1С. Dialogflow – это платформа от Google для понимания естественного языка.\n После этой статьи можно будет создать своего чат…","html":"<p>Пример интеграции Dialogflow CX с 1С. Dialogflow – это платформа от Google для понимания естественного языка.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ef5b8579e354c8eb982b64df0b2b6462/3684f/df_1c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACgElEQVR42pWUW08TQRTHedUXX8QXv4aJ38HEkPgiJhAxqfJAvBDBR2NI8AFjq6A04gW5RNoKCBTapqVognK1YEWNEiMWqG25BFpSujuzO39npkUhlGW7ySQnc/7z2zNzLkU45GMsv33QV2QGtLnNkNxmpsD7gGzXAYUAsxEN3VMqeqYIwosaFPofyg4D7gh0bvxK6HDPEHSNqxj6pGMorEt7kO8trOpSYyrClaSOka8UDn64P6TBG2ao706gzhXnti73hO/tN4rVFMsP3Lni+hbj1yNwTRAMzFA8DaZwtm4OxaV+HD/vx5k7YbQMp9DPfU6u6Zkm2EizPe+6B7i4pnOhuKIGm3sdJy4EcKTEg5NlQbmOcru4NACre01qXJMq/mwYAJfXdRldX4igY1TBrbYoTt/4gGPnvHKduj6GmrZl7sug7yPB60mC+KYBcCkHFMmweRXUOCisAQqL/TcqmiN44N1GrUP4VKkRwNhhQGcOaPWpuNi8heqHEVg7o2h6uQDLcwXl9rT8WUHAwRkVDT4NV21LGC65BmfZXbRbHuGmPY6KZyruezLmga7JbISPgwSVzRtwlDegs6oFzsomdF2youbePJpGGNwhVVaEIVBkrGucoHc6m5jWdwpqO1K4/CSJqsYYbreuoDWY5j4qNU6uTSTzALGrQz7z9hJtJsS+MEX9gIorLzJo5MnpDemyPkXiBPDLkravY/IOh01erKPfKd7wQ+3vVRn14Gz2zQRsbF7bMyyMh0NORzXw4qWy3gRYQP1zBFH+LMxg6hw4vjQdvHcpXo2JNiT4EdPk3r9Jwwqchxo/4OERTvzUkFZMTFYzAzaVMb5eQUAUCNoB/gUuR8JrbsAj5AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dialogflow CX\"\n        title=\"\"\n        src=\"/static/ef5b8579e354c8eb982b64df0b2b6462/3684f/df_1c.png\"\n        srcset=\"/static/ef5b8579e354c8eb982b64df0b2b6462/12f09/df_1c.png 148w,\n/static/ef5b8579e354c8eb982b64df0b2b6462/3684f/df_1c.png 225w\"\n        sizes=\"(max-width: 225px) 100vw, 225px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>После этой статьи можно будет создать своего чат-бота способного понимать контекст и выделять нужные переменные из произвольных фраз.</p>\n<iframe width=\"100%\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/EfDE2LBgTog?rel=0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<h3>Видеоинструкция</h3>\n<iframe width=\"100%\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/Vz0F3UdUuu4?rel=0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<h3>Необходимые знания</h3>\n<ul>\n<li>Публикация 1С на веб-сервере</li>\n<li>Сети, DNS, переадресация портов</li>\n<li>Docker</li>\n</ul>\n<h3>Демо база 1С</h3>\n<p>Скачиваем <a href=\"https://github.com/HardAndHeavy/demo_dialog/releases/download/v1/demo_dialog_v1.dt\">dt демо базы</a> и разворачиваем его.</p>\n<p>Публикуем базу на веб-сервере с именем <code class=\"language-text\">demo_dialog</code>.</p>\n<p>Проверяем публикацию по ссылке <a href=\"http://localhost/demo_dialog/hs/dialog\">http://localhost/demo_dialog/hs/dialog</a>. В появившемся окне аутентификации вводим <em>Имя пользователя</em> — <code class=\"language-text\">dialog</code>, <em>Пароль</em> — <code class=\"language-text\">dialog</code>. Ответом сервера должен быть текст  — <em>Демонстрационный сервис интеграции 1C c Google Assistant.</em>, который говорит, что публикация демо базы прошла успешно.</p>\n<h3>Dialogflow CX. Настройка</h3>\n<p>На сайте <a href=\"https://dialogflow.cloud.google.com/cx/projects\">Dialogflow CX</a> создаём новый проект нажав кнопку <em>New Project</em>. Вводим имя <em>Project name</em> — <code class=\"language-text\">demo-dialog</code>, расположение <em>Location</em> — <code class=\"language-text\">No organization</code> и нажимаем <em>CREATE</em>. После чего мы будем автоматически переведены в консоль <a href=\"https://console.cloud.google.com/\">Google Cloud Platform</a> на только что созданный проект.</p>\n<p>В консоли <a href=\"https://console.cloud.google.com/\">Google Cloud Platform</a> в меню <em>IAM &#x26; Admin</em> выбираем <em>Service accounts</em>. Создаём новый сервисный аккаунт нажав на <em>CREATE SERVICE ACCOUNT</em>. В разделе <em>Service account details</em> вводим имя <em>Service account name</em> — <code class=\"language-text\">demo-dialog</code>, <em>Service account</em> — <code class=\"language-text\">demo-dialog</code> и нажимаем <em>CREATE AND CONTINUE</em>. В разделе <em>Grant this service account access to project</em> выбираем роль <code class=\"language-text\">Dialogflow Service Agent</code>, которая располагается в быстром доступе <em>Currently Used</em>, и нажимаем <em>CONTINUE</em>. Дополнительный раздел <em>Grant users access to this service account</em> пропускаем и нажимаем <em>DONE</em>. В разделе сервисных аккаунтов <em>Service accounts</em> появится новая строка с <em>Email</em>. Этот <em>Email</em> будет являться значением константы <code class=\"language-text\">DF_CLIENT_EMAIL</code>.</p>\n<p>Переходим в управление сервисным аккаунтом нажав на <em>Email</em>. Выберем раздел <em>KEYS</em> и добавляем новый ключ нажав <em>ADD KEY</em> и <em>Create new key</em>. В появившемся окне выбираем тип ключа <em>Key type</em> — <code class=\"language-text\">JSON</code> и нажимаем <em>CREATE</em>. Открываем автоматически загруженный файла JSON и копируем значение поля <em>private_key</em>. На рабочем столе создаем файл <em>dialogflow.key</em> и вставляем в него содержимое буфера заменяя <code class=\"language-text\">\\n</code> на реальный перевод строки.</p>\n<p>Возвращаемся на сайт <a href=\"https://dialogflow.cloud.google.com/cx/projects\">Dialogflow CX</a> и выбираем наш проект <em>demo-dialog</em>. Далее включаем API нажав кнопку <em>Enable API</em>.</p>\n<p>Создаём нового агента нажав кнопку <em>Create agent</em>. Вводим имя <em>Display name</em> — <code class=\"language-text\">demo-dialog</code>, район <em>Location</em> — <code class=\"language-text\">us-central1</code>, часовой пояс <em>Time zone</em> — <code class=\"language-text\">(GMT+3:00) Europe/Moscow</code>, язык — <code class=\"language-text\">ru — Russian</code> и нажимаем <em>Create</em>.</p>\n<h3>Файл окружения</h3>\n<p>На рабочем столе создадим файл окружения <em>env.txt</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">NODE_ENV=production\nBASE_1C_HOST=http://ИМЯ_МАШИНЫ_1С/demo_dialog/hs/dialog\nBASE_1C_USERNAME=dialog\nBASE_1C_PASSWORD=dialog\nBASE_1C_TOKEN=base-1c-token\nDIALOG_TOKEN=dialog-token\nDF_CLIENT_EMAIL=сервисный аккаунт\nDF_PROJECT_ID=ID проекта\nDF_LOCATION=us-central1\nDF_AGENT_ID=ID агента\nDF_LANGUAGE_CODE=ru</code></pre></div>\n<ul>\n<li><code class=\"language-text\">NODE_ENV</code> — внутренняя константа проекта. Необходимо указать <code class=\"language-text\">production</code></li>\n<li><code class=\"language-text\">BASE_1C_HOST</code> — URL http-сервиса 1С. Важно указать имя (или ip) машины на которой опубликована база 1С, а не писать <code class=\"language-text\">localhost</code></li>\n<li><code class=\"language-text\">BASE_1C_USERNAME</code> — пользователь http-сервиса</li>\n<li><code class=\"language-text\">BASE_1C_PASSWORD</code> — пароль пользователя http-сервиса</li>\n<li><code class=\"language-text\">BASE_1C_TOKEN</code> — внутренний ключ для работы http-сервиса. В базе 1С он хранится в константе <em>Dialog base-1c-token</em></li>\n<li><code class=\"language-text\">DIALOG_TOKEN</code> — внешний ключ для работы http-сервиса. В базе 1С он хранится в константе <em>Dialog dialog-token</em></li>\n<li><code class=\"language-text\">DF_CLIENT_EMAIL</code> — сервисный аккаунт. Настраивается в <em>Google Cloud Platform</em> в меню <em>Service accounts</em></li>\n<li><code class=\"language-text\">DF_PROJECT_ID</code> — ID проекта. Можно найти в URL после projects</li>\n<li><code class=\"language-text\">DF_LOCATION</code> — область в которой был размещен агент</li>\n<li><code class=\"language-text\">DF_AGENT_ID</code> — ID агента. Можно найти в URL после agents</li>\n<li><code class=\"language-text\">DF_LANGUAGE_CODE</code> — язык, для русского надо указать <code class=\"language-text\">ru</code></li>\n</ul>\n<h3>SSL сертификат</h3>\n<p>Если нет сертификата, то самый быстрый способ — это создать самоподписанный SSL сертификат. Сделаем это через <em>openssl</em>, который прилагается при установке <em>git</em>. На рабочем столе создадим каталог <em>%USERPROFILE%/Desktop/certs</em> и запустим команду:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token string\">\"C:/Program Files/Git/usr/bin/openssl.exe\"</span> ^\nreq <span class=\"token parameter variable\">-x509</span> <span class=\"token parameter variable\">-nodes</span> <span class=\"token parameter variable\">-sha256</span> <span class=\"token parameter variable\">-days</span> <span class=\"token number\">365</span> ^\n<span class=\"token parameter variable\">-keyout</span> %USERPROFILE%/Desktop/certs/key.pem ^\n<span class=\"token parameter variable\">-out</span> %USERPROFILE%/Desktop/certs/cert.pem</code></pre></div>\n<p>В нашем каталоге появится два файла <em>key.pem</em> и <em>cert.pem</em>.</p>\n<h3>Docker контейнер hardandheavy/dialog</h3>\n<p>После <a href=\"https://docs.docker.com/desktop/windows/install/\">установки Docker</a> запускаем команду:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> run ^\n\t<span class=\"token parameter variable\">-v</span> %USERPROFILE%/Desktop/dialogflow.key:/etc/dialogflow.key ^\n\t--env-file %USERPROFILE%/Desktop/env.txt ^\n\t<span class=\"token parameter variable\">-v</span> %USERPROFILE%/Desktop/certs:/certs ^\n\t<span class=\"token parameter variable\">-p</span> <span class=\"token number\">3000</span>:3000 ^\n\thardandheavy/dialog</code></pre></div>\n<p>Проверяем публикацию по ссылке <a href=\"https://localhost:3000/\">https://localhost:3000/</a>. Ответом сервера должен быть текст — <em>Сервис для интеграции 1C и Dialogflow CX. Версия 1.0.0.</em>, который говорит, что контейнер успешно развёрнут.</p>\n<p>Дополнительно:</p>\n<ul>\n<li>Порт можно заменить на другой изменив в команде значение настройки <em>p</em> <code class=\"language-text\">-p НУЖНЫЙ_ПОРТ:3000</code></li>\n<li>Для обновления контейнера используется команда <code class=\"language-text\">docker pull hardandheavy/dialog</code></li>\n<li>Исходный код контейнера расположен на сайте <a href=\"https://github.com/HardAndHeavy/dialog\">https://github.com/HardAndHeavy/dialog</a></li>\n</ul>\n<h3>Переадресация портов</h3>\n<p>Для машины, на который запущен контейнер, открываем доступ из интернета к 3000 (<code class=\"language-text\">НУЖНЫЙ_ПОРТ</code>) порту. Устанавливаем доменное имя. Итоговым результатом будет <code class=\"language-text\">ВНЕШНИЙ_URL_СЕРВИСА</code> вида https://ДОМЕННОЕ_ИМЯ/webhook-df.</p>\n<h3>Dialogflow CX. Manage. Webhooks</h3>\n<p>Переходим в раздел <em>Webhooks</em>. Нажимаем кнопку <em>Create new</em>. Вводим <em>Display name</em> — <code class=\"language-text\">webhook</code>, <em>Webhook URL</em> — <code class=\"language-text\">ВНЕШНИЙ_URL_СЕРВИСА</code>. Для аутентификации вводим ключ <em>Key</em> — <code class=\"language-text\">dialog-token</code>, <em>Value</em> — значение константы <code class=\"language-text\">DIALOG_TOKEN</code>. Нажимаем <em>Save</em>.</p>\n<h3>Dialogflow CX. Manage. Entity Types</h3>\n<p>Переходим в раздел <em>Entity Types</em>. Нажимаем кнопку <em>Create</em>. Вводим <em>Display name</em> — <code class=\"language-text\">topic</code>, и создаём новые значения перечисления:</p>\n<ul>\n<li><code class=\"language-text\">store</code> — store; склад; остаток склада</li>\n<li><code class=\"language-text\">money</code> — money; деньги; касса; остаток денег</li>\n<li><code class=\"language-text\">copy</code> — copy; скопируй; копировать; копия; скопировать; сделай копию</li>\n</ul>\n<p>Нажимаем <em>Save</em>.</p>\n<p>Нажимаем кнопку <em>Create</em>. Вводим <em>Display name</em> — <code class=\"language-text\">user</code>, и создаём новые значения перечисления:</p>\n<ul>\n<li><code class=\"language-text\">i</code> — i; я; меня; мою</li>\n<li><code class=\"language-text\">ivan</code> — ivan; Иван; Ваня; Ваниной</li>\n<li><code class=\"language-text\">pavel</code> — pavel; Павел; Паша; Пашиной</li>\n<li><code class=\"language-text\">alexander</code> — alexander; Саша; Александр; Сашиной</li>\n</ul>\n<p>Нажимаем <em>Save</em>.</p>\n<h3>Dialogflow CX. Manage. Intents</h3>\n<p>Переходим в раздел <em>Intents</em>. Нажимаем кнопку <em>Create</em>. Вводим <em>Display name</em> — <code class=\"language-text\">request</code> и создаём тренировочные фразы:</p>\n<ul>\n<li>какой остаток склада</li>\n<li>какая была вчера касса</li>\n<li>какой остаток денег сегодня</li>\n<li>скажи кассу</li>\n<li>касса</li>\n<li>склад сегодня</li>\n<li>в октябре</li>\n<li>касса 01.09</li>\n<li>на 09.2021</li>\n<li>склад 1.05.21</li>\n<li>а вчера</li>\n<li>скопируй</li>\n<li>сделай копию Пашиной базы</li>\n<li>скопируй базу для Саши</li>\n<li>скопируй для меня</li>\n<li>скопируй Ване</li>\n<li>25 июля</li>\n</ul>\n<p>Корректируем имена параметров:</p>\n<ul>\n<li><code class=\"language-text\">topic</code> с типом <code class=\"language-text\">topic</code></li>\n<li><code class=\"language-text\">date</code> с типом <code class=\"language-text\">sys.date-time</code></li>\n<li><code class=\"language-text\">user</code> с типом <code class=\"language-text\">user</code></li>\n</ul>\n<p><strong>Замечание!</strong> Имя параметра не должно содержать символа тире <code class=\"language-text\">-</code>.</p>\n<p>Поправляем нейронную сеть указывая правильное соответствие слов переменным.</p>\n<p>Нажимаем <em>Save</em>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/55c1b76eb2e7bf35ab0a4b9fe43aa8f0/adc48/intent_request.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABaklEQVR42qVUh26DMBDl/7+vqtI0bUKaQNgWy5tXj0AWaaVg6XTY+N6d342AcQ4uBChlEEYPw7BIgjTJkOcFpJTQ2h7iZbH2wX6fIk0LmK3zYH69LMOgEazbAz7TD/Dy5I8XPFdrA7hqQnyRA9okAm8qLFmOw3Wzx6raoSwzkPAdnPYvR+oiXLch3potyuqILgnR992yCHdFhLjOp4PFTz7mGbKUQEk1hb4I8Ick2H6fIJj69/K1sznHPsIiQ7hNoNXfRX1reNEPhZ1zgoq0BlD/mUHblty0qRDSZVMaipRS7tvvpdsH116fRWa1Mg6tgVLyXCL3JePBA+vVoj/rTSl8j885HiPlXEwYQVEUZtLQG+JHwlvWIa5OzvCeArsoY2ja1lBGTP32PinsDHZD+llXtMEmi9DVDIN+zKrl1YpU6pJlOgM4IvZ1i3gTI42IS9oc4EjZBPh0qJoLktYQTfZAx33mPX9+wP4CdFKMVxe0PNAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Тренировочные фразы для намерения request\"\n        title=\"\"\n        src=\"/static/55c1b76eb2e7bf35ab0a4b9fe43aa8f0/fcda8/intent_request.png\"\n        srcset=\"/static/55c1b76eb2e7bf35ab0a4b9fe43aa8f0/12f09/intent_request.png 148w,\n/static/55c1b76eb2e7bf35ab0a4b9fe43aa8f0/e4a3f/intent_request.png 295w,\n/static/55c1b76eb2e7bf35ab0a4b9fe43aa8f0/fcda8/intent_request.png 590w,\n/static/55c1b76eb2e7bf35ab0a4b9fe43aa8f0/efc66/intent_request.png 885w,\n/static/55c1b76eb2e7bf35ab0a4b9fe43aa8f0/adc48/intent_request.png 979w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Нажимаем кнопку <em>Create</em>. Вводим <em>Display name</em> — <code class=\"language-text\">goodbye</code> и создаём тренировочные фразы:</p>\n<ul>\n<li>пока</li>\n<li>спасибо</li>\n<li>до свидания</li>\n<li>стоп</li>\n<li>остановись</li>\n<li>конец</li>\n</ul>\n<p>Нажимаем <em>Save</em>.</p>\n<h3>Dialogflow CX. Build</h3>\n<p>В разделе <em>PAGES</em> создаём страницу <code class=\"language-text\">Dialogue</code>. Рядом с именем страницы нажимаем на три точки, а затем на <em>Edit</em>.</p>\n<p>Нажимаем <em>Edit fulfillment</em>. Включаем вебхук <em>Enable webhook</em>. Выбираем из списка вебхук <code class=\"language-text\">webhook</code>. В поле <em>Tag</em> вводим <code class=\"language-text\">request</code> и нажимаем <em>Save</em>. Нажимаем на <em>Routes</em>.</p>\n<p>Нажимаем <em>Add route</em>. <em>Intent</em> выбираем <code class=\"language-text\">request</code>. В разделе <em>Transition</em> выбираем <code class=\"language-text\">Dialogue</code> и нажимаем <em>Save</em>.</p>\n<p>В разделе <em>Routes</em> нажимаем <em>Add route</em>. <em>Intent</em> выбираем <code class=\"language-text\">goodbye</code>. В разделе <em>Transition</em> выбираем <code class=\"language-text\">End Session</code> и нажимаем <em>Save</em>.</p>\n<p>Рядом с именем страницы <em>Start</em> нажимаем на три точки, а затем на <em>Edit</em>.</p>\n<p>Нажимаем на <em>Routes</em>. Нажимаем <em>Add route</em>. <em>Intent</em> выбираем <code class=\"language-text\">request</code>. В разделе <em>Transition</em> выбираем <code class=\"language-text\">Dialogue</code> и нажимаем <em>Save</em>.</p>\n<h3>Dialogflow CX. Test Agent</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 462px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a9b2b8d1f79ef5bc5fd228d4caaad78a/e389b/df_test.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 164.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAIAAABWXBxEAAAACXBIWXMAAAPoAAAD6AG1e1JrAAACxUlEQVR42p1VS4/TMBDOX4UDP4cTB04g8Sc4UYGQuoIbatVumibN23m/n27a8Lle7aZp2qWMRtbY4xn7m4ct9Ofkp5VMUggiKbKaOkkd5g2Jq7Lt2n23Cxs/ZyteUmOPcDinsKissIQQZHXVUNiXdZtWTO72HcwwBRcVmwpVVaVpmud5WZajW7gpbZoGKuzDnrquIURRxI+BSoDOdV2LkCCKRsYP2xJaz/MopZZl4RjYm6YJF+AsywQ4iNIEEzg7Ho/D8fnA0Tondm3mo8iHq0PCyTh2UgUTFjDuG4SrDkeuwtVG689adnKSJP0ViuMY9pMquGDG9L+IndzfJLi+oZ02Rs6RzyBA+iKAQsynjS/D2LYtkuk4jmlbjk10XUeSsTjadvXkSaJdR1w/jFOglSQJsbzP2AtCxwtgvF6vcTXhj7n/uqx4xfwLn2H++D1598WEM8MCUluWd5pqyDvFMIyNuNUMC7Wt6qai6pppZEXJ0b5Ee3/qkiTOYOwQbGZBJoRAjpKsofshv56qyXpCG6OF0AiQFUVBCu8wTvPCtIkfsoAtFgvkT1gR+mPDcrg/sFpnELqey4eTfJoeOA8Bs2t/mMVvP9vYhhwCM7FduMSoqipGBAngVUPf6VoQJWNj+KtOYbhsutFIu6d0Qkbl4mG5A3MUJqtHETnDNefzOa4meMVR8jqufpXGjfH+2wtmw+KYCd7DIWaMO82YwBwUVHLra68UcKKkTyNjngGo8LzgPRBu40QbrNficrkUH6XNVhHFJ8yz2UyWZUS7L2h/G/PobeUvDHuGkOc3nwgkO8hlkqtugVFzC81nU/xSml9unRy/D6/ts8ZY2eVPKYOx6Z8M3BL/06gZhjzuKp76y31tO15B8M6ije8P7Yq6RDKQLVT/NX749dt2vI3XIkwoL4YZEc/LGgw1F64xHgb8pbylYdn3/V+Vs3UkCvOWUgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Тестирование диалога\"\n        title=\"\"\n        src=\"/static/a9b2b8d1f79ef5bc5fd228d4caaad78a/e389b/df_test.png\"\n        srcset=\"/static/a9b2b8d1f79ef5bc5fd228d4caaad78a/12f09/df_test.png 148w,\n/static/a9b2b8d1f79ef5bc5fd228d4caaad78a/e4a3f/df_test.png 295w,\n/static/a9b2b8d1f79ef5bc5fd228d4caaad78a/e389b/df_test.png 462w\"\n        sizes=\"(max-width: 462px) 100vw, 462px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>1С. Тестирование</h3>\n<p>В константе <em>Dialog имя сервера</em> указываем ДОМЕННОЕ_ИМЯ для связи с нашим контейнером. Открываем обработку <em>Demo Dialog</em> и получаем все возможности диалога.</p>\n<iframe width=\"100%\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/EfDE2LBgTog?rel=0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<h3>Собственная разработка в 1С</h3>\n<p>Точкой входа для изучения механизма будет метод <a href=\"https://github.com/HardAndHeavy/demo_dialog/blob/3b261c99092876e9cb132dfb04c837d2027ff7c9/demo_dialog/src/HTTPServices/Dialog/Module.bsl#L131\">request</a>. В нём происходит работа с параметрами (params), пользовательскими данными (payload) и контекстом (session).</p>","frontmatter":{"title":"Dialogflow CX","date":"30 ноября 2021","description":"Пример интеграции Dialogflow CX с 1С. Dialogflow – это платформа от Google для понимания естественного языка."}}},"pageContext":{"slug":"/dialogflow_cx/","previous":{"fields":{"slug":"/ok_google/"},"frontmatter":{"title":"Окей, Google"}},"next":{"fields":{"slug":"/facts_2024/"},"frontmatter":{"title":"Итоги 2024"}}}},"staticQueryHashes":["1768383048","3000541721","500175580"],"slicesMap":{}}